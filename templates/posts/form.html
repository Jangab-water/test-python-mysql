{% extends "base.html" %}

{% block title %}
    {% if action == 'create' %}새 글 작성{% else %}글 수정{% endif %} - 게시판 서비스
{% endblock %}

{% block content %}
<div class="post-form-container">
    <h1>{% if action == 'create' %}새 글 작성{% else %}글 수정{% endif %}</h1>

    <form
        method="post"
        action="{% if action == 'create' %}/posts/new{% else %}/posts/{{ post.id }}/edit{% endif %}"
        class="post-form"
    >
        <div class="form-group">
            <label for="title">제목</label>
            <input
                type="text"
                id="title"
                name="title"
                value="{{ post.title if post else '' }}"
                required
                minlength="1"
                maxlength="255"
                autofocus
            >
        </div>

        <div class="form-group">
            <label for="content">내용</label>
            <textarea
                id="content"
                name="content"
                rows="15"
                required
            >{{ post.content if post else '' }}</textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                {% if action == 'create' %}작성하기{% else %}수정하기{% endif %}
            </button>
            <a href="{% if post %}/posts/{{ post.id }}{% else %}/posts{% endif %}" class="btn btn-secondary">
                취소
            </a>
        </div>
    </form>
</div>
{% endblock %}
